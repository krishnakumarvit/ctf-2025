<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Whispered Instructions</title>
  <style>
    body { font-family: Arial, sans-serif; max-width:800px; margin:40px auto; }
    textarea { width:100%; height:120px; }
    #reply { white-space: pre-wrap; background:#f6f6f6; padding:12px; border-radius:6px; }
  </style>
</head>
<body>
  <h2>Whispered Instructions â€” Assistant</h2>
  <p>Enter a message and the assistant will reply.</p>

  <textarea id="msg" placeholder="Type your message here..."></textarea><br/>
  <button onclick="send()">Send</button>

  <h3>Reply</h3>
  <div id="reply">(no replies yet)</div>

  <script>
    async function send() {
      const message = document.getElementById('msg').value;
      const res = await fetch('/chat', {
        method: 'POST',
        headers: {'Content-Type':'application/json'},
        body: JSON.stringify({message})
      });
      const j = await res.json();
      document.getElementById('reply').textContent = j.reply;
    }
  </script>
</body>
</html>
